language: c

env:
  matrix:
    - PYTHON_VERSION=2.6 UNITPKG=false
    - PYTHON_VERSION=2.7 UNITPKG=false
    - PYTHON_VERSION=3.3 UNITPKG=false
    - PYTHON_VERSION=3.4 UNITPKG=false
    - PYTHON_VERSION=2.7 UNITPKG=true
    - PYTHON_VERSION=3.3 UNITPKG=true
    - PYTHON_VERSION=3.4 UNITPKG=true

before_install:
    - source .continuous-integration/travis/setup_environment_$TRAVIS_OS_NAME.sh
    - conda create --yes -n test python=$PYTHON_VERSION
    - source activate test

install:
    - conda install --yes pip pytest numpy
    - pip install coveralls pytest-cov
    - if [ $UNITPKG ] then;
        conda install --yes astropy;
        pip install quantities pint;
      fi



script:
    - py.test --cov .

after_success:
  - coveralls
